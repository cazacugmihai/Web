var Od;(function(n){var b;n.processPendingOdEventsDelay=-1;b=!1;n.flattenVdoms=function(n){var t,i;if(n==null)return null;if(!(n instanceof Array))return[n];var r=n,f=r.length,u=!1;for(t=0;t<f;t++)if(r[t]instanceof Array){u=!0;break}return u?(i=[],s(n,i),i):n};var s=function(n,t){for(var i,u=n.length,r=0;r<u;r++)i=n[r],i instanceof Array?s(i,t):t.push(i)},k=function(n,t,r){var u=n.toString(),e;return t==null||t.nodeName!=="#text"||f(t)?(e=document.createTextNode(u),i(e,t,r),e):(t.nodeValue!==u&&(t.nodeValue=u),t)},r=function(n,t,i){return n instanceof Function?n(t,i):k(n,t,i)};n.element=function(t,r,u){t=t.toUpperCase();var s=n.flattenVdoms(u),e=function(n,u){var o=n,e=n==null||o.tagName!==t||f(n)?document.createElement(t):o;return i(e,n,u),et(e,r),at(e,s),d(r,e,o),e},o=r&&r.key;return o!=null&&(e.key=o),e};var d=function(n,t,i){var r=n&&n.onodevent;if(r!=null){if(t!==i){r("created",t);return}r("updated",t)}},i=function(n,t,i){n!==t&&(p(t),i!=null)&&(n==null?t!=null&&i.removeChild(t):t==null?i.appendChild(n):i.replaceChild(n,t))},f=function(n){return!!g(n)},g=function(n){return n.__Od__componentID},u=function(n,t){n.__Od__componentID=t},h=function(n){u(n,0)},nt=1,t=null,tt=function(n){return n!=null&&t!=null?t.namedSubcomponents[n]:null};n.deferComponentUpdates=!0;n.component=function(f,e){var a=tt(f),y,h,l,p;if(a!=null)return a;var v=nt++,o={componentID:v,dom:null,obs:null,subs:null,anonymousSubcomponents:[],namedSubcomponents:{},updateIsPending:!1},s=function(n,t){var r=o.dom;return i(r,n,t),r};return t!=null&&(f==null?t.anonymousSubcomponents.push(s):t.namedSubcomponents[f]=s),y=t,t=o,h=Obs.isObservable(e)?e:Obs.fn(e),l=r(h(),null,null),u(l,v),t=y,p=Obs.subscribe([h],function(){n.deferComponentUpdates?ut(o):c(o)}),s.dispose=function(){it(o)},o.dom=l,o.obs=h,o.subs=p,s.key=l.key,s};var c=function(n){var e=t,f;t=n;var o=n.componentID,i=n.dom,s=n.obs,c=i&&i.parentNode;l(n);h(i);f=r(s(),i,c);u(f,o);n.dom=f;n.updateIsPending=!1;t=e},it=function(n){l(n);rt(n);Obs.dispose(n.subs);Obs.dispose(n.obs);var t=n.dom;h(t);p(t)},l=function(t){for(var r=t.anonymousSubcomponents,i=r.pop();i!=null;i=r.pop())n.dispose(i)},rt=function(t){var i=t.namedSubcomponents,r,u;for(r in i)u=i[r],n.dispose(u),i[r]=null};n.dispose=function(n){var t=n&&n.dispose;t!=null&&t()};var a=[],e=0,ut=function(n){n.updateIsPending||(n.updateIsPending=!0,a.push(n),e===0)&&(e=pt(ft))},ft=function(){for(var t=a,n=t.pop();n!=null;n=t.pop())c(n);e=0};n.fromHtml=function(n){var t=document.createElement("DIV"),r;return t.innerHTML=n,r=t.childNodes.length===1?t.firstChild:t,u(r,Infinity),function(n,t){return i(r,n,t),r}};n.fromDom=function(n){u(n,Infinity);return function(t,r){return i(n,t,r),n}};n.bind=function(n,t){var i=t&&t.parentNode;return r(n,t,i)};n.appendChild=function(n,t){return r(n,null,t)};var bt=function(n){return n instanceof Array},et=function(n,t){var r=v(n),i,u,f,e,o;if(t)for(i in t)i!=="style"&&lt(n,i,t[i]);if(r)for(i in r)t&&i in t||ct(n,i);u=r&&r.style;f=t&&t.style;ot(n,u,f);e=r&&r.attrs;o=t&&t.attrs;st(n,e,o);ht(n,t)},ot=function(n,t,i){var u,r;if(typeof i=="string"){n.style=i;return}if(!i){t&&(n.style=null);return}u=n.style;for(r in i)u[r]=i[r];if(t)for(r in t)r in i||(u[r]=null)},st=function(n,t,i){var r;if(i)for(r in i)n.setAttribute(r,i[r]);if(t)for(r in t)i&&r in i||n.removeAttribute(r)},v=function(n){return n.__Od__props},ht=function(n,t){n.__Od__props=t},ct=function(n,t){n[t]=null;n instanceof HTMLElement&&n.removeAttribute(t)},lt=function(n,t,i){t==="class"&&(t="className");n[t]=i},at=function(n,t){var u,e,f,o,s,h;for(t==null&&(t=[]),n.keyed&&vt(t,n),u=n.firstChild,e=t.length,f=0;f<e;f++)o=t[f],s=r(o,u,n),u=s.nextSibling;while(u)h=u.nextSibling,i(null,u,n),u=h},vt=function(n,t){var e=t.firstChild,h=n.length,o,s,i,u,c,f,l,r;if(h!==0&&e){for(o={},i=e;i;i=i.nextSibling){if(s=i.key,s==null)return;o[s]=i}for(i=e,u=0;u<h;u++){if(c=n[u],f=c.key,f==null)return;l=i&&i.key;r=o[f];i?l===f?i=i.nextSibling:r?t.insertBefore(r,i):t.insertBefore(document.createElement("DIV"),i):r?t.appendChild(r):t.appendChild(document.createElement("DIV"))}}},yt=function(n){return setTimeout(n,16)},pt=window.requestAnimationFrame||yt,y=[],p=function(n){n&&(f(n)||(y.push(n),o===0)&&(o=setTimeout(wt,0)))},o=0,wt=function(){for(var t=y,n=t.pop();n!=null;n=t.pop())w(n);o=0},w=function(n){var t,r,e,u,o,i;if(!f(n)){t=v(n);r=t&&t.onodevent;r&&r("removed",n);for(e in t)n[e]=null;for(u=n.childNodes,o=u.length,i=0;i<o;i++)w(u[i])}}})(Od||(Od={}));