var Od;(function(n){var g;n.processPendingOdEventsDelay=20;g=!1;n.flattenVdoms=function(n){var t,i;if(n==null)return null;if(!(n instanceof Array))return[n];var r=n,f=r.length,u=!1;for(t=0;t<f;t++)if(r[t]instanceof Array){u=!0;break}return u?(i=[],a(n,i),i):n};var a=function(n,t){for(var i,u=n.length,r=0;r<u;r++)i=n[r],i instanceof Array?a(i,t):t.push(i)},nt=function(n,t,r){var u=n.toString(),e;return t==null||t.nodeName!=="#text"||f(t)?(e=document.createTextNode(u),i(e,t,r),e):(t.nodeValue!==u&&(t.nodeValue=u),t)},r=function(n,t,i){return n instanceof Function?n(t,i):nt(n,t,i)};n.element=function(t,r,u){t=t.toUpperCase();var s=n.flattenVdoms(u),e=function(n,u){var o=n,e=n==null||o.tagName!==t||f(n)?document.createElement(t):o;return i(e,n,u),ht(e,r),pt(e,s),tt(r,e,o),e},o=r&&r.key;return o!=null&&(e.key=o),e};var tt=function(n,t,i){var r=n&&n.onodevent;if(r!=null){if(t!==i){e.push(t);return}o.push(t)}},i=function(n,t,i){n!==t&&(dt(t),i!=null)&&(n==null?t!=null&&i.removeChild(t):t==null?i.appendChild(n):i.replaceChild(n,t))},f=function(n){return!!it(n)},it=function(n){return n.__Od__componentID},u=function(n,t){n.__Od__componentID=t},v=function(n){u(n,0)},rt=1,t=null,ut=function(n){return n!=null&&t!=null?t.namedSubcomponents[n]:null};n.deferComponentUpdates=!0;n.component=function(f,e){var a=ut(f),h,c,w;if(a!=null)return a;var v=rt++,o={componentID:v,dom:null,obs:null,subs:null,anonymousSubcomponents:[],namedSubcomponents:{},updateIsPending:!1},s=function(n,t){var r=o.dom;return i(r,n,t),r};return t!=null&&(f==null?t.anonymousSubcomponents.push(s):t.namedSubcomponents[f]=s),h=Obs.fn(function(){var i=t,n;return t=o,p(o),n=e(),t=i,n}),c=r(Obs.peek(h),null,null),u(c,v),l(),w=Obs.subscribe([h],function(){n.deferComponentUpdates?ot(o):(y(o),l())}),s.dispose=function(){ft(o)},o.dom=c,o.obs=h,o.subs=w,s.key=c.key,s};var y=function(n){var e=t,f;t=n;var o=n.componentID,i=n.dom,s=n.obs,h=i&&i.parentNode;v(i);f=r(s(),i,h);u(f,o);n.dom=f;n.updateIsPending=!1;t=e},ft=function(n){p(n);et(n);Obs.dispose(n.subs);Obs.dispose(n.obs);var t=n.dom;v(t)},p=function(t){for(var r=t.anonymousSubcomponents,i=r.pop();i!=null;i=r.pop())n.dispose(i)},et=function(t){var i=t.namedSubcomponents,r,u;for(r in i)u=i[r],n.dispose(u),i[r]=null};n.dispose=function(n){var t=n&&n.dispose;t!=null&&t()};var w=[],s=0,ot=function(n){n.updateIsPending||(n.updateIsPending=!0,w.push(n),s===0)&&(s=kt(st))},st=function(){for(var t=w,n=t.pop();n!=null;n=t.pop())y(n);l();s=0};n.fromHtml=function(n){var t=document.createElement("DIV"),r;return t.innerHTML=n,r=t.childNodes.length===1?t.firstChild:t,u(r,Infinity),function(n,t){return i(r,n,t),r}};n.fromDom=function(n){u(n,Infinity);return function(t,r){return i(n,t,r),n}};n.bind=function(n,t){var i=t&&t.parentNode;return r(n,t,i)};n.appendChild=function(n,t){return r(n,null,t)};var ii=function(n){return n instanceof Array},ht=function(n,t){var r=b(n),i,u,f,e,o;if(t)for(i in t)i!=="style"&&yt(n,i,t[i]);if(r)for(i in r)t&&i in t||vt(n,i);u=r&&r.style;f=t&&t.style;ct(n,u,f);e=r&&r.attrs;o=t&&t.attrs;lt(n,e,o);at(n,t)},ct=function(n,t,i){var u,r;if(typeof i=="string"){n.style=i;return}if(!i){t&&(n.style=null);return}u=n.style;for(r in i)u[r]=i[r];if(t)for(r in t)r in i||(u[r]=null)},lt=function(n,t,i){var r;if(i)for(r in i)n.setAttribute(r,i[r]);if(t)for(r in t)i&&r in i||n.removeAttribute(r)},b=function(n){return n.__Od__props},at=function(n,t){n.__Od__props=t},vt=function(n,t){n[t]=null;n instanceof HTMLElement&&n.removeAttribute(t)},yt=function(n,t,i){t==="class"&&(t="className");n[t]=i},pt=function(n,t){var u,e,f,o,s,h;for(t==null&&(t=[]),n.keyed&&wt(t,n),u=n.firstChild,e=t.length,f=0;f<e;f++)o=t[f],s=r(o,u,n),u=s.nextSibling;while(u)h=u.nextSibling,i(null,u,n),u=h},wt=function(n,t){var e=t.firstChild,h=n.length,o,s,i,u,c,f,l,r;if(h!==0&&e){for(o={},i=e;i;i=i.nextSibling){if(s=i.key,s==null)return;o[s]=i}for(i=e,u=0;u<h;u++){if(c=n[u],f=c.key,f==null)return;l=i&&i.key;r=o[f];i?l===f?i=i.nextSibling:r?t.insertBefore(r,i):t.insertBefore(document.createElement("DIV"),i):r?t.appendChild(r):t.appendChild(document.createElement("DIV"))}}},bt=function(n){return setTimeout(n,16)},kt=window.requestAnimationFrame||bt,k=[],dt=function(n){n&&(f(n)||(k.push(n),h===0)&&(h=setTimeout(gt,0)))},h=0,gt=function(){for(var t=k,n=t.pop();n!=null;n=t.pop())d(n);h=0},d=function(n){var t,r,e,u,o,i;if(!f(n)){t=b(n);r=t&&t.onodevent;r&&r("removed",n);for(e in t)n[e]=null;for(u=n.childNodes,o=u.length,i=0;i<o;i++)d(u[i])}},c=!1,e=[],o=[],l=function(){c||(c=!0,setTimeout(function(){ni();ti();c=!1},n.processPendingOdEventsDelay))},ni=function(){for(var t,i,n=0;n<e.length;n++)t=e[n],i=t.onodevent,i!=null&&i("created",t);e=[]},ti=function(){for(var t,i,n=0;n<o.length;n++)t=o[n],i=t.onodevent,i!=null&&i("updated",t);o=[]}})(Od||(Od={}));